2022-01-18
-----------

- [x] Вчера вечером в поисках новых материалов по ЛИКу нашел 
      [крутые наработки по эмулятору на java](http://www.nedopc.org/forum/viewtopic.php?f=90&t=9475").
- [x] Спасибо Lavr за публикацию исходников.
- [x] Базируясь на них перевел проект с Ant+Applet на Jetty+Maven+JNLP+Applet.
- [x] Запустил на нем ROM Лика и игру Клад (не без глюков).
- [x] Описал [по запуску мануал](https://github.com/codenjoyme/8080-emulator#%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F").
- [x] Опубликовал [проект на GitHub](https://github.com/codenjoyme/8080-emulator).
- [x] И поделился [наполеоновскими планами](https://github.com/codenjoyme/8080-emulator#%D0%BF%D0%BB%D0%B0%D0%BD-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B9).
- [x] [Спасибо всем, кто повлиял на это](https://github.com/codenjoyme/8080-emulator#%D0%B1%D0%BB%D0%B0%D0%B3%D0%BE%D0%B4%D0%B0%D1%80%D0%BD%D0%BE%D1%81%D1%82%D0%B8).


2022-01-21
-----------

Эксперименты с [эмулятором](https://github.com/codenjoyme/8080-emulator/tree/a7b480fd1b963e61a11126813199c8566e1dfb3b) продолжаются. На сегодня он умеет:
- [x] Загружать ROM и RKS из файла (пока что в ручном режиме в сырцах true на 
      false надо сменить).
- [x] При этом можно загружать ПЗУ Лика или Специалиста.
- [x] Игра Клад уже работает без ошибков. Бейсик все еще глючит.
- [x] Появился программный ассемблер/дизассемблер. Он сейчас еще 
      работает не полноценно, т.к. не все команды реализованы (пока что 30% готовности).
- [x] Появились юнит тесты - тестирующие команды процессора.
- [x] Появились интеграционные тесты, тестирующие что будет в результате 
      выполнения 10M тиков на определенной ROM/игре c CPU/экраном (в формате png).
- [x] Постепенно переношу полезные материалы (мануалы, игры) в ресурсы 
      проекта. Этот репозиторий планируется как единое место для всех 
      наработок и контента.
- [x] Код сильно отрефакторен. Удален старый код ZX Spectrum, расширенные 
      команды Z80, фичи, которые пока что не сильно нужны (после переноса 
      на новый модерновый UI фреймворк часть из них верну). Сильно упрощал 
      везде, где только можно. Разделил все GodObjects на компоненты.

2022-01-29
-----------

Обновления в [эмуляторе](https://github.com/codenjoyme/8080-emulator/tree/d05dfe34290c306f6a515c425625b14ce2e54839):
- [x] Все команды мигрированы из старого процедурного стиля в новый OOP.
- [x] Попутно устранены проблемы с флагом P и командой DAA (в этом как 
      оказалось крылись отличия Z80 и i8080).
- [x] Спасибо [Автору статьи про различия i8080 и Z80](https://webhamster.ru/mytetrashare/index/mtb0/1637215098k115beckd4).
- [x] Спасибо Viktor Pykhonin [за исходники](https://github.com/vpyk/emu80v4/blob/master/src/Cpu8080.cpp) 
      и emu80-дебаггер они очень помогли разобраться в отличиях.
- [x] Спасибо Авторам [тестов команд i8080](https://github.com/begoon/i8080-core) 
      и Begoon за то, что выложил их на своем GitHub вместе с исходниками.
- [x] Спасибо Svofski за чудный [assembler редактор](https://svofski.github.io/pretty-8080-assembler/) 
      благодаря ему я смог адаптировать нерабочие тесты к работе на ЛИКе. Речь про 
      [test.asm](https://github.com/codenjoyme/8080-emulator/blob/d05dfe34290c306f6a515c425625b14ce2e54839/src/main/resources/test/test.asm) 
      и [test.rks](https://github.com/codenjoyme/8080-emulator/blob/d05dfe34290c306f6a515c425625b14ce2e54839/src/main/resources/test/test.rks).
- [x] Итого игра Клад работает до самого последнего призового уровня (раньше 
      не работала), а так же бейсик завелся и предварительно работает.
- [x] Уверен есть еще много косяков связанных с флагами. У меня в очереди 
      жду еще три обширных теста команд i8080. В ближайшем будущем поправим. 
      Тесты [лежат тут](https://github.com/codenjoyme/8080-emulator/tree/d05dfe34290c306f6a515c425625b14ce2e54839/src/main/resources/test).
- [x] Так как разработка ведется через тесты - улучшен фреймворк для написания 
      тестов. Можно ассемблировать-дизассемблировать команды. Можно останаваливать 
      cpu по какому-то указанному в тесте критерию. Можно трейсить 
      выполнение программы. Можно запускать тесты с записанными сценариями 
      нажатых клавиш.
- [x] Исправлена раскладка клавиатуры. Были ошибки.
- [x] Для удобства есть возможность переключаться QWERTY/JCUKENG по 
      переключению раскладки на хостовой машине, или по временно  зажатому Ctrl.
- [x] Модификаторы Ctrl, Alt, Shift (и их комбинации) так же обрабатываются - на некоторые клавиши 2, 4, 6, 7 (и другие) с модификаторами "повешаны" дополнительные символы, которые ждешь глядя на современную калавиатуру.
- [x] По хоткеям NUM_PAD(* + -) можно влиять на скорость эмуляции: максимально 
      ускорять, ускорять на 15% и замедлять на 15% соответственно.
- [x] При работе эмулятора в корне создается файлик keys.rec в нем записано 
      когда (тик) какая клавиша была нажата и когда отпущена. Это позволяет 
      записать вручную сценарий, а потом детерминированно его воспроизводить 
      в тестах или как replay.
- [x] По хоткею NUM_PAD(.) можно загружать любой такой replay.
- [x] По хоткею NUM_PAD(/) можно загружать rks/bin/com файлы. При этом эмулятор
      заботливо вобьет в мониторе JXXYY и нажмет Enter.
- [x] Выпилены старые Апплеты, запуск приложения заменен на Swing.
- [x] Добавлены скрипты build/build-client.sh для запуска десктопной версии, 
      и build/build-server.sh чтобы поднять jetty и раздавать это же приложение в сети.
- [x] Добавлены найденные на просторах сети игры ЛИКа и тексты.

Продолжение следует!