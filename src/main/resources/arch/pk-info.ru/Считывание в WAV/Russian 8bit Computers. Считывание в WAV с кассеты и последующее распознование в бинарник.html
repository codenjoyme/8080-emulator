<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> <html style><!--
 Page saved with SingleFile 
 url: https://web.archive.org/web/20170318064757fw_/http://pk-info.ru/howtowav.html 
 saved date: Tue Jan 18 2022 01:34:58 GMT+0200 (Eastern European Standard Time)
--><meta charset=utf-8>
<style>@-moz-keyframes bounce_spinningSquaresG{0%{-moz-transform:scale(1);background-color:#000000}100%{-moz-transform:scale(.3) rotate(90deg);background-color:#FFFFFF}}@-webkit-keyframes bounce_spinningSquaresG{0%{-webkit-transform:scale(1);background-color:#000000}100%{-webkit-transform:scale(.3) rotate(90deg);background-color:#FFFFFF}}@-ms-keyframes bounce_spinningSquaresG{0%{-ms-transform:scale(1);background-color:#000000}100%{-ms-transform:scale(.3) rotate(90deg);background-color:#FFFFFF}}@-o-keyframes bounce_spinningSquaresG{0%{-o-transform:scale(1);background-color:#000000}100%{-o-transform:scale(.3) rotate(90deg);background-color:#FFFFFF}}@keyframes bounce_spinningSquaresG{0%{transform:scale(1);background-color:#000000}100%{transform:scale(.3) rotate(90deg);background-color:#FFFFFF}}</style>
<title>Russian 8bit Computers. Считывание в WAV с кассеты и последующее распознование в бинарник</title>
<meta http-equiv=DESCRIPTION content="Считывание в WAV с кассеты">
<link type=image/x-icon rel="shortcut icon" href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><link rel=canonical href=https://web.archive.org/web/20170318064757fw_/http://pk-info.ru/howtowav.html><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:;"></head>
<body vlink=#eeddaa text=#ccbb88 link=#eeddaa bgcolor=black background="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
<center><font size=4 color=#fffcef><b>Считывание в WAV с кассеты и последующее распознование в бинарник<br>(для ПК "Специалист").</b></font><br><br>
<table width=600><tbody><tr>
<td valign=top>
<div align=justify>
<font size=2 face=Arial color=#fffcef>
<b>1. Предварительная настройка</b><br>
Если нет желания крутить головку магнитофона, оставьте как есть, сигнал со многих кассет я вообще снимал со входа наушников на переносном кассетном магнитофоне, и игрался с эквалайзером на нём же, громкость выходного сигнала (с наушников) при этом ставил на 23 db - 30 db. При условии, что у вас рабочий магнитофон с линейным выходом, с которого загружается запись в реальный компьютер, и если требуется - и вы готовы подкрутить головку для считывания записи, - подстройте запись, проверьте считывание на реале.
<br><br>
Если подзабыли, как звучит реальная запись для "Специалиста" без существенных искажений и на хорошо сохранившемся участке плёнки, скачайте этот файл - <a href=https://web.archive.org/web/20170318064757/http://pk-info.ru/UPLOAD/igroteka_6_(start)_original.zip target=_top>http://pk-info.ru/UPLOAD/igroteka_6_(start)_original.zip</a> (9 Mb)
<br><br>
<b>2.Запись в WAV</b><br>
Для записи я использую старую версию Gold Wave Editor Pro, новые версии здесь - <a href=https://web.archive.org/web/20170318064757/http://www.wav-editor.com/superezwaveeditor/index.html target=_top>http://www.wav-editor.com/superezwaveeditor/index.html</a> 
подойдёт любой условно-бесплатный, либо бесплатный редактор звука. <br>
Нас интересует только функция записи с линейного входа, без обработки, как есть. Если в редакторе, либо на звуковой карте, есть фильтры обработки записи на лету, их необходимо отключить.
<br><br>
Параметры записи устанавливаем как:<br>
44kHz, Stereo, 16bit
<br><br>
Уровень громкости записи лучше установить примерно на 70%-80% (в пределах -11 dB ... -3 dB), завышенное значение может внести дополнительное искажение в запись, как и сильно заниженное (такие записи довольно непросто восстановить). Запись необходима "как есть" на кассете, чтобы с ней можно было работать в дальнейшем.
<br><br>
Получившийся файл с кассеты, лучше пожать во FLAC - <a href=https://web.archive.org/web/20170318064757/http://flac.sourceforge.net/ target=_top>http://flac.sourceforge.net</a> , никаких MP3/OGG и прочих кодировщиков с потерей звука. <br><br>
<i><b>Если не требуется дальнейшее сохранение записи в бинарном виде, последующие шаги можно пропустить.</b></i>
<br><br>
<b>3. Обработка записи</b><br>
Для обработки использую Adobe Audition, с собственными FFT фильтрами, обработка сигнала была настроена по нескольким эталонным записям с кассет (распознав несколько сот файлов, в том числе не своих, с уверенностью могу утверждать, что вытащить можно почти всё, головку крутить не обязательно). Фильтры могу выложить, но никак не найду куда они сохранились...
<br><br>
Файл режится на несколько кусков, согласно кол-ву программ на кассете, обычно сохраняется левый канал, он и идёт для перевода в бинарник. Иногда, запись производилась и на правый канал (при неверно подстроенной головке), при Моно же записи бывает и так, что один из каналов лучше сохранился, - поэтому всегда необходимо сохранять в формате Стерео - 2 канала, как на кассете.
<br><br>
<b>4. Сохранение в формате .RKS</b><br>
Для перевода звука в бинарный формат, я использую утилиту Shoorick'a - <a href=https://web.archive.org/web/20170318064757/http://shoorick.ho.ua/spec/wav2spec.0.2.3.1.zip target=_top>http://shoorick.ho.ua/spec/wav2spec.0.2.3.1.zip</a>
<br><br>
Обрабатывать лучше файл формата WAV: 44kHz, Mono, 16bit.<br>
<br>
Для этой утилиты, необходимо удалить в начале записи весь "мусор", запись должна начинатся с самого сигнала - начала программы, удалить необходимо и весь "мусор" в конце.
<br><br>
По умолчанию, утилита пытается самостоятельно определить константу скорости записи. По стандарту Специалист'а, скорость по умолчанию должна быть 23, либо в пределах 22-24. Если автоматически определяется неверно (перед этим надо посмотреть на сам файл и если на глаз всё хорошо, попытаться его загрузить в эмулятор), то константу скорости записи указываем вручную. Минимум надо добиться - распознование заголовка записи с именем программы, максимум - распознование всей программы.
<br><br>
Параметры командной строки:<br>
<b>wav2spec</b> <b>-d</b>константна <b>входной.wav</b> <b>бинарник.rks</b><br>
-d0 -- автоопределние константы скорости<br>
-dnn -- константна скорости записи вручную<br>
<br>
Если считывание не получается без ошибок, то играемся с записью в Adobe Audition и пытаемся добиться считывания в бинарнике.
<br><br>
Из-за особенностей эмуляции, ни каждая запись в WAV может успешно считаться в эмуляторе, но может быть успешно переведенна в бинарник и впоследствии без ошибок загружена в эмулятор.<br><br>
 Для "хитрых" записей с защитой от копирования, а также со считыванием по сбросу (например записи сборников Игротека от кооп.Старт), придётся сохранять только в WAV и добиваться корректной загрузки в эмуляторах, поскольку весь "эффект" считывания (в частности анимация загрузки) в бинарном виде не полностью поддерживается через эмуляторы. Исходник таких файлов с кассеты, должен быть максимально правильным.
<br><br>
На данный момент, считывания из WAV поддерживают эмуляторы: EMU, и M.E.S.S.
<br><br>
Дополнительные вопросы, можно уточнить на форуме: <a href="https://web.archive.org/web/20170318064757/http://zx.pk.ru/forumdisplay.php?f=57" target=_top>http://zx.pk.ru/forumdisplay.php?f=57</a>
<br><br>
</font>
</div>
</table></center>
<br><br>
<div align=right><font size=1 face="MS Sans Serif" color=#7e7e7e>Болтаевский А.И.</font></div>
<div align=right><font size=1 face="MS Sans Serif" color=#7e7e7e>© 2013<br>
<a href=https://web.archive.org/web/20170318064757/mailto:boltaevsky@inbox.ru>boltaevsky@inbox.ru</a>
<div align=right><font size=1><a href=https://web.archive.org/web/20170318064757/http://pk-info.ru/ target=_top>http://pk-info.ru</a></font></div>
<br>
 
</font></div>